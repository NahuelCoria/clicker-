{"version":3,"sources":["Timer.js","Play.js","Score.js","HiScores.js","App.js","index.js"],"names":["Timer","props","time","className","Play","startTimer","playing","clicks","setClicks","onClick","Score","score","HiScores","scores","map","player","_id","App","useState","clicksRef","useRef","current","setScores","useEffect","axios","get","then","res","console","log","data","catch","err","setScore","setPlaying","setTime","interval","setInterval","prev","setTimeout","prompt","datos","post","clearInterval","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"gNAUeA,EAVD,SAAAC,GACZ,IAAQC,EAASD,EAATC,KACR,OACE,qBAAKC,UAAU,QAAf,SACE,6BAAKD,OCoBIE,EAxBF,SAAAH,GACX,IACEI,EAIEJ,EAJFI,WACAC,EAGEL,EAHFK,QACAC,EAEEN,EAFFM,OACAC,EACEP,EADFO,UAOF,OACE,sBAAKL,UAAU,OAAf,UACE,qBACEA,UAAU,WACVM,QARc,WACdH,GACFE,EAAUD,EAAS,MAQnB,wBAAQE,QAASJ,EAAjB,mBACA,0CAAaE,SCTJG,EAVD,SAAAT,GACZ,IAAQU,EAAUV,EAAVU,MAER,OACE,qBAAKR,UAAU,QAAf,SACE,2CAAcQ,QCaLC,EAdE,SAAAX,GAEf,IAAQY,EAAWZ,EAAXY,OAER,OACE,sBAAKV,UAAU,WAAf,UACE,0CACA,6BACGU,EAAOC,KAAI,SAAAH,GAAK,OAAI,+BAAqBA,EAAMI,OAA3B,IAAoCJ,EAAMA,QAAjCA,EAAMK,cCmE7BC,EAvEH,WACV,MAA4BC,mBAAS,GAArC,mBAAOX,EAAP,KAAeC,EAAf,KAIMW,EAAYC,iBAAOb,GACzBY,EAAUE,QAAUd,EAEpB,MAA4BW,mBAAS,IAArC,mBAAOL,EAAP,KAAeS,EAAf,KAEAC,qBAAU,WAERC,IAAMC,IADM,oCAETC,MAAK,SAAAC,GACJC,QAAQC,IAAI,uCACZD,QAAQC,IAAIF,EAAIG,MAChBR,EAAUK,EAAIG,SAEfC,OAAM,SAAAC,GAAG,OAAIJ,QAAQC,IAAIG,QAC3B,IAGH,MAA0Bd,mBAAS,IAAnC,mBAAOP,EAAP,KAAcsB,EAAd,KACA,EAA8Bf,oBAAS,GAAvC,mBAAOZ,EAAP,KAAgB4B,EAAhB,KACA,EAAwBhB,mBAAS,IAAjC,mBAAOhB,EAAP,KAAaiC,EAAb,KA8BA,OACE,sBAAKhC,UAAU,MAAf,UACE,sBAAKA,UAAU,MAAf,UACE,cAAC,EAAD,CAAOD,KAAMA,IACb,cAAC,EAAD,CACEK,OAAQA,EACRC,UAAWA,EACXH,WAjCW,WACjB8B,EAAQ,IACR3B,EAAU,GACV0B,GAAW,GACX,IAAME,EAAWC,aAAY,WAN7BF,GAAQ,SAAAG,GAAI,OAAIA,EAAO,OAQpB,KACHC,YAAW,WACTL,GAAW,GACXN,QAAQC,IAAIV,EAAUE,SACtBY,EAA6B,IAApBd,EAAUE,SACnB,IAAMN,EAASyB,OAAO,qBAChBC,EAAQ,CACZ9B,MAA2B,IAApBQ,EAAUE,QACjBN,OAAQA,GAGVS,IAAMkB,KADM,mCACID,GACbf,MAAK,SAAAC,GACJL,EAAU,CAACK,EAAIG,MAAN,mBAAejB,QAEzBkB,OAAM,SAAAC,GAAG,OAAIJ,QAAQC,IAAIG,MAC5BW,cAAcP,KACb,MAWG9B,QAASA,OAGb,cAAC,EAAD,CAAOK,MAAOA,IACd,cAAC,EAAD,CAAUE,OAAQA,QCpExB+B,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.dcfd8948.chunk.js","sourcesContent":["const Timer = props => {\n  const { time } = props;\n  return (\n    <div className=\"Timer\">\n      <h1>{time}</h1>\n    </div>\n  );\n};\n\n\nexport default Timer;\n","const Play = props => {\n  const {\n    startTimer,\n    playing,\n    clicks,\n    setClicks\n  } = props;\n\n  const handleClick = () => {\n    if (playing)\n      setClicks(clicks + 1);\n  };\n  return (\n    <div className=\"Play\">\n      <div\n        className=\"PlayArea\"\n        onClick={handleClick}\n      />\n      <button onClick={startTimer}>Jugar</button>\n      <h2>Clicks: {clicks}</h2>\n    </div>\n  );\n};\n\nexport default Play;\n","const Score = props => {\n  const { score } = props;\n\n  return (\n    <div className=\"Score\">\n      <h1>Puntaje: {score}</h1>\n    </div>\n  );\n};\n\nexport default Score;\n","import axios from 'axios';\nimport { useEffect, useState } from 'react';\nconst url = 'http://localhost:4000/api/scores';\n\nconst HiScores = props => {\n\n  const { scores } = props;\n\n  return (\n    <div className=\"HiScores\">\n      <h1>HiScores</h1>\n      <ul>\n        {scores.map(score => <li key={score._id}>{score.player} {score.score}</li>)}\n      </ul>\n    </div>\n  );\n};\n\nexport default HiScores;\n","import { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\n// componentes\nimport Timer from './Timer';\nimport Play from './Play';\nimport Score from './Score';\nimport HiScores from './HiScores';\n\nconst App = () => {\n  const [clicks, setClicks] = useState(0);\n  // usar el hook useRef para obtener el valor correcto\n  // de clicks en el setTimeout\n  // ver https://github.com/facebook/react/issues/14010\n  const clicksRef = useRef(clicks);\n  clicksRef.current = clicks;\n\n  const [scores, setScores] = useState([]);\n\n  useEffect(() => {\n    const url = 'http://localhost:4000/api/scores';\n    axios.get(url)\n      .then(res => {\n        console.log('Llendo a buscar datos al backend...');\n        console.log(res.data);\n        setScores(res.data);\n      })\n      .catch(err => console.log(err));\n  }, []);\n\n\n  const [score, setScore] = useState('');\n  const [playing, setPlaying] = useState(false);\n  const [time, setTime] = useState(10);\n  const tick = () => {\n    setTime(prev => prev - 1);\n  };\n  const startTimer = () => {\n    setTime(10);\n    setClicks(0);\n    setPlaying(true);\n    const interval = setInterval(() => {\n      tick();\n    }, 1000);\n    setTimeout(() => {\n      setPlaying(false);\n      console.log(clicksRef.current); // debug\n      setScore(clicksRef.current * 100);\n      const player = prompt('Ingrese su nombre');\n      const datos = {\n        score: clicksRef.current * 100,\n        player: player\n      };\n      const url = 'http://localhost:4000/api/scores';\n      axios.post(url, datos)\n        .then(res => {\n          setScores([res.data, ...scores]);\n        })\n        .catch(err => console.log(err));\n      clearInterval(interval);\n    }, 10000);\n  };\n\n  return (\n    <div className=\"App\">\n      <div className=\"Top\">\n        <Timer time={time} />\n        <Play\n          clicks={clicks}\n          setClicks={setClicks}\n          startTimer={startTimer}\n          playing={playing}\n        />\n      </div>\n      <Score score={score} />\n      <HiScores scores={scores} />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}